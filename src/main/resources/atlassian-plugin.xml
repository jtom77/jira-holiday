<atlassian-plugin key="${atlassian.plugin.key}" name="${project.name}" plugins-version="2">
	<plugin-info>
		<description>${project.description}</description>
		<version>${project.version}</version>
		<vendor name="${project.organization.name}" url="${project.organization.url}" />
		<param name="plugin-icon">images/pluginIcon.png</param>
		<param name="plugin-logo">images/pluginLogo.png</param>
	</plugin-info>

	<!-- add our i18n resource -->
	<resource type="i18n" name="i18n" location="jira-holiday" />

	<!-- add our web resources -->
	<web-resource key="jira-holiday-resources" name="jira-holiday Web Resources">
		<dependency>com.atlassian.auiplugin:ajs</dependency>

		<resource type="download" name="jira-holiday.css" location="/css/jira-holiday.css" />
		<resource type="download" name="jira-holiday.js" location="/js/jira-holiday.js" />
		<resource type="download" name="images/" location="/images" />

		<context>jira-holiday</context>
	</web-resource>


	<webwork1 key="demoaction" name="Action to test the MTC Holiday Plugin" class="java.lang.Object">
		<actions>
			<action name="de.mtc.jira.holiday.HolidayTestAction" alias="HolidayTestAction">
				<view name="input">/templates/input.vm</view>
				<view name="success">/templates/joy.vm</view>
				<view name="error">/templates/error.vm</view>
			</action>
		</actions>
	</webwork1>


	<webwork1 key="rest_test" name="RestTest" class="java.lang.Object">
		<actions>
			<action name="de.mtc.jira.holiday.webwork.RestApiWebWorker" alias="RestApiTester">
				<view name="success">/templates/resttest/resttest_view.vm</view>
				<view name="input">/templates/resttest/resttest_input.vm</view>
			</action>
		</actions>
	</webwork1>

	<webwork1 key="project_create" name="ProjectCreationWebWorker" class="java.lang.Object">
		<actions>
			<action name="de.mtc.jira.holiday.webwork.ProjectCreationWebWorker" alias="ProjectCreationWebWorker">
				<view name="success">/templates/projectcreate/projectcreate_view.vm
				</view>
				<view name="input">/templates/projectcreate/projectcreate_input.vm
				</view>
				<view name="error">/templates/projectcreate/projectcreate_error.vm
				</view>
			</action>
		</actions>
	</webwork1>


	<webwork1 key="project_creator" name="ProjectCreator" class="java.lang.Object">
		<actions>
			<action name="de.mtc.jira.holiday.ProjectCreator" alias="ProjectCreator">
				<view name="success">/templates/creator/creator_view.vm</view>
				<view name="input">/templates/creator/creator_input.vm</view>
			</action>
		</actions>
	</webwork1>

	<workflow-function key="holiday-create-issue-post-function" name="Create HOLIDAY issue post function"
		i18n-name-key="holiday-create-issue-post-function.name" class="de.mtc.jira.holiday.workflow.WorkflowNoInputPluginFactory">
		<description key="holiday-create-issue-post-function.description">Create issue post function for MTC
			holiday workflow
		</description>
		<function-class>de.mtc.jira.holiday.workflow.CreateIssuePostFunction
		</function-class>
	</workflow-function>
	<workflow-function key="holiday-create-vacation-post-function" name="Create Vacation issue post function"
		i18n-name-key="holiday-create-vacation-post-function.name" class="de.mtc.jira.holiday.workflow.WorkflowNoInputPluginFactory">
		<description key="holiday-create-vacation-post-function.description">Create vacation post function for MTC
			holiday workflow
		</description>
		<function-class>de.mtc.jira.holiday.workflow.CreateVacationPostFunction
		</function-class>
	</workflow-function>
	<workflow-function key="holiday-change-vacation-post-function" name="Change vacation issue post function"
		i18n-name-key="holiday-change-vacation-post-function.name" class="de.mtc.jira.holiday.workflow.WorkflowNoInputPluginFactory">
		<description key="holiday-change-vacation-post-function.description">Changing vacation post function for MTC holiday workflow</description>
		<function-class>de.mtc.jira.holiday.workflow.ChangeVacationPostFunction
		</function-class>
	</workflow-function>


	<!-- <workflow-condition key="role-condition" name="Role Based Condition" i18n-name-key="role-condition.name" class="com.jtricks.jira.workflow.RoleConditionFactory"> 
		<description key="role-condition.description">Role Based Workflow Condition </description> <condition-class>com.jtricks.jira.workflow.RoleCondition</condition-class> 
		<resource type="velocity" name="view" location="templates/conditions/role-condition.vm" /> <resource type="velocity" name="input-parameters" 
		location="templates/conditions/role-condition-input.vm" /> <resource type="velocity" name="edit-parameters" location="templates/conditions/role-condition-input.vm" 
		/> </workflow-condition> -->

	<workflow-validator key="create-validator" name="Holiday Create Validator" i18n-name-key="create-validator.name"
		class="de.mtc.jira.holiday.workflow.ValidatorPluginFactory">
		<description key="create-validator.description">Validate the holiday creation</description>
		<validator-class>de.mtc.jira.holiday.workflow.CreateValidator</validator-class>
		<resource type="velocity" name="view" location="templates/validators/create_issue_validator_view.vm" />
		<!-- <resource type="velocity" name="input-parameters" location="templates/validators/field-validator-input.vm" /> <resource type="velocity" 
			name="edit-parameters" location="templates/validators/field-validator-input.vm" /> -->
	</workflow-validator>


	<web-item key="mtc_debug_dropdown_key" name="MTC Debug Actions" section="system.top.navigation.bar" weight="47">
		<label>My Jira</label>
		<link linkId="mtc_debug_dropdown_link" />
	</web-item>
	<web-section key="mtc_debug_dropdown_section1" name="My Jira Section 1" location="mtc_debug_dropdown_link" weight="10" />
	<web-section key="mtc_debug_dropdown_section2" name="My Jira Section 2" location="mtc_debug_dropdown_link" weight="20" />
	<web-item key="servlet_link" name="Servlet Link" section="mtc_debug_dropdown_link/mtc_debug_dropdown_section1" weight="10">
		<label>Servlet</label>
		<link linkId="servlet_link">/plugins/servlet/resttest</link>
	</web-item>
	<web-item key="investigator_link" name="Investigator" section="mtc_debug_dropdown_link/mtc_debug_dropdown_section2"
		weight="10">
		<label>Rest Api</label>
		<link linkId="investigator_link">/secure/RestApiTester!default.jspa</link>
	</web-item>
	<web-item key="creator_link" name="Creator" section="mtc_debug_dropdown_link/mtc_debug_dropdown_section2" weight="20">
		<label>Create Fields</label>
		<link linkId="creator_link">/secure/ProjectCreationWebWorker!default.jspa</link>
	</web-item>

</atlassian-plugin>